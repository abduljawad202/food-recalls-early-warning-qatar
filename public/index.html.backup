<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام الإنذار المبكر للاستدعاءات الغذائية - دولة قطر</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="نظام إنذار مبكر حكومي للاستدعاءات الغذائية العالمية - مراقبة مستمرة للسلامة الغذائية في دولة قطر">
    <meta name="keywords" content="استدعاء غذائي, سلامة غذائية, قطر, إنذار مبكر, FDA, SFDA, Health Canada, FSANZ, RASFF">
    <meta name="author" content="دولة قطر - وزارة الصحة العامة">
    
    <!-- Open Graph -->
    <meta property="og:title" content="نظام الإنذار المبكر للاستدعاءات الغذائية - دولة قطر">
    <meta property="og:description" content="مراقبة مستمرة للاستدعاءات الغذائية العالمية مع تنبيهات فورية">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://food-recalls-qatar.web.app">
    <meta property="og:image" content="/assets/og-image.png">
    
    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#8B1538">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="إنذار غذائي قطر">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <style>
        :root {
            --qatar-maroon: #8B1538;
            --qatar-white: #FFFFFF;
            --qatar-gold: #FFD700;
            --qatar-dark: #2C1810;
            --qatar-light: #F8F9FA;
            --qatar-gray: #6C757D;
            --qatar-success: #28A745;
            --qatar-warning: #FFC107;
            --qatar-danger: #DC3545;
            --qatar-info: #17A2B8;
            --shadow-light: 0 2px 10px rgba(139, 21, 56, 0.1);
            --shadow-medium: 0 4px 20px rgba(139, 21, 56, 0.15);
            --shadow-heavy: 0 8px 30px rgba(139, 21, 56, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, var(--qatar-light) 0%, #E8F4FD 100%);
            color: var(--qatar-dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--qatar-maroon) 0%, #A91B47 100%);
            color: var(--qatar-white);
            padding: 20px 0;
            box-shadow: var(--shadow-heavy);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.05)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 2rem;
            font-weight: 800;
        }

        .logo i {
            font-size: 3rem;
            color: var(--qatar-gold);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .logo-text {
            font-size: 1.8rem;
            font-weight: 800;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header-info h1 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 400;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Clock and Date */
        .datetime-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .current-time {
            font-size: 2rem;
            font-weight: 700;
            color: var(--qatar-gold);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 5px;
            font-family: 'Inter', monospace;
        }

        .current-date {
            font-size: 1.1rem;
            font-weight: 600;
            opacity: 0.95;
        }

        /* Buttons */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            font-size: 0.95rem;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.3s ease;
        }

        .btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--qatar-gold) 0%, #E6C200 100%);
            color: var(--qatar-dark);
            box-shadow: var(--shadow-medium);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-heavy);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--qatar-white) 0%, #F8F9FA 100%);
            color: var(--qatar-maroon);
            border: 2px solid var(--qatar-maroon);
            box-shadow: var(--shadow-light);
        }

        .btn-secondary:hover {
            background: var(--qatar-maroon);
            color: var(--qatar-white);
            transform: translateY(-2px);
        }

        .btn-outline {
            background: transparent;
            color: var(--qatar-white);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--qatar-white);
        }

        /* Stats Section */
        .stats-section {
            padding: 40px 0;
            background: var(--qatar-white);
            margin: -20px 0 0 0;
            border-radius: 30px 30px 0 0;
            box-shadow: var(--shadow-medium);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--qatar-white) 0%, #F8F9FA 100%);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow-light);
            border: 1px solid rgba(139, 21, 56, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--qatar-maroon) 0%, var(--qatar-gold) 100%);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-heavy);
        }

        .stat-card.urgent::before {
            background: linear-gradient(90deg, var(--qatar-danger) 0%, #FF6B6B 100%);
        }

        .stat-card.international::before {
            background: linear-gradient(90deg, var(--qatar-info) 0%, #4ECDC4 100%);
        }

        .stat-card.qatar::before {
            background: linear-gradient(90deg, var(--qatar-maroon) 0%, var(--qatar-gold) 100%);
        }

        .stat-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--qatar-maroon);
        }

        .stat-card.urgent .stat-icon {
            color: var(--qatar-danger);
        }

        .stat-card.international .stat-icon {
            color: var(--qatar-info);
        }

        .stat-card.qatar .stat-icon {
            color: var(--qatar-maroon);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--qatar-dark);
            margin-bottom: 8px;
            font-family: 'Inter', sans-serif;
        }

        .stat-label {
            font-size: 1rem;
            font-weight: 600;
            color: var(--qatar-gray);
        }

        /* Controls Section */
        .controls-section {
            padding: 30px 0;
            background: var(--qatar-white);
        }

        .controls-grid {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 20px;
            align-items: center;
        }

        .search-container {
            position: relative;
        }

        .search-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-input-wrapper i {
            position: absolute;
            right: 15px;
            color: var(--qatar-gray);
            font-size: 1.1rem;
        }

        .search-input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid rgba(139, 21, 56, 0.2);
            border-radius: 12px;
            font-family: 'Cairo', sans-serif;
            font-size: 1rem;
            background: var(--qatar-light);
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--qatar-maroon);
            box-shadow: 0 0 0 3px rgba(139, 21, 56, 0.1);
        }

        .filters-container {
            display: flex;
            gap: 10px;
        }

        .filter-btn {
            padding: 10px 20px;
            border: 2px solid var(--qatar-maroon);
            background: transparent;
            color: var(--qatar-maroon);
            border-radius: 25px;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--qatar-maroon);
            color: var(--qatar-white);
            transform: translateY(-2px);
        }

        .actions-container {
            display: flex;
            gap: 10px;
        }

        /* Main Content */
        .main-content {
            padding: 40px 0;
            background: var(--qatar-white);
        }

        .loader {
            text-align: center;
            padding: 60px 20px;
        }

        .loader-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(139, 21, 56, 0.1);
            border-top: 4px solid var(--qatar-maroon);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .recalls-container {
            display: grid;
            gap: 25px;
        }

        .recall-card {
            background: var(--qatar-white);
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--shadow-light);
            border: 1px solid rgba(139, 21, 56, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .recall-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
        }

        .recall-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .recall-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--qatar-dark);
            margin-bottom: 10px;
        }

        .recall-meta {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
            color: var(--qatar-gray);
        }

        .recall-content {
            margin-bottom: 20px;
        }

        .recall-description {
            color: var(--qatar-dark);
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .recall-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.85rem;
        }

        /* Status Badges */
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-urgent {
            background: var(--qatar-danger);
            color: var(--qatar-white);
        }

        .status-international {
            background: var(--qatar-info);
            color: var(--qatar-white);
        }

        .status-national {
            background: var(--qatar-warning);
            color: var(--qatar-dark);
        }

        .status-local {
            background: var(--qatar-success);
            color: var(--qatar-white);
        }

        .qatar-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .qatar-status.confirmed {
            background: var(--qatar-maroon);
            color: var(--qatar-white);
        }

        .qatar-status.possible {
            background: var(--qatar-warning);
            color: var(--qatar-dark);
        }

        .qatar-status.not-indicated {
            background: var(--qatar-gray);
            color: var(--qatar-white);
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--qatar-dark) 0%, #1A0F08 100%);
            color: var(--qatar-white);
            padding: 50px 0 30px;
            margin-top: 60px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h3 {
            color: var(--qatar-gold);
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-section li i {
            color: var(--qatar-gold);
            width: 16px;
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 30px;
            text-align: center;
        }

        .disclaimer {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 10px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .controls-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .filters-container {
                justify-content: center;
                flex-wrap: wrap;
            }

            .actions-container {
                justify-content: center;
                flex-wrap: wrap;
            }

            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }

            .recall-header {
                flex-direction: column;
                gap: 15px;
            }

            .recall-meta {
                justify-content: center;
            }

            .recall-actions {
                justify-content: center;
            }
        }

        /* Sound Effects */
        .btn-sound {
            position: relative;
        }

        .btn-sound:active {
            transform: scale(0.95);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--qatar-white);
            border: 1px solid var(--qatar-maroon);
            border-radius: 10px;
            padding: 15px 20px;
            box-shadow: var(--shadow-heavy);
            z-index: 1000;
            max-width: 400px;
            animation: slideInRight 0.3s ease-out;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification.success {
            border-color: var(--qatar-success);
        }

        .notification.error {
            border-color: var(--qatar-danger);
        }

        .notification.warning {
            border-color: var(--qatar-warning);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo">
                        <i class="fas fa-shield-alt"></i>
                        <div class="logo-text">نظام الإنذار المبكر</div>
                    </div>
                    <div class="header-info">
                        <h1>نظام الإنذار المبكر للاستدعاءات الغذائية - دولة قطر</h1>
                        <p class="subtitle">مراقبة مستمرة للسلامة الغذائية العالمية | وزارة الصحة العامة</p>
                    </div>
                </div>
                
                <div class="header-actions">
                    <div class="datetime-section">
                        <div class="current-time" id="currentTime">00:00:00</div>
                        <div class="current-date" id="currentDate">الجمعة، 4 أكتوبر 2024</div>
                    </div>
                    
                    <button id="enableNotifications" class="btn btn-primary btn-sound">
                        <i class="fas fa-bell"></i>
                        <span>تفعيل الإشعارات</span>
                    </button>
                    
                    <button id="languageToggle" class="btn btn-outline btn-sound">
                        <i class="fas fa-language"></i>
                        <span>EN</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="totalRecalls">0</div>
                        <div class="stat-label">إجمالي الاستدعاءات</div>
                    </div>
                </div>
                
                <div class="stat-card urgent">
                    <div class="stat-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="urgentRecalls">0</div>
                        <div class="stat-label">استدعاءات عاجلة</div>
                    </div>
                </div>
                
                <div class="stat-card international">
                    <div class="stat-icon">
                        <i class="fas fa-globe"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="internationalRecalls">0</div>
                        <div class="stat-label">استدعاءات عالمية</div>
                    </div>
                </div>
                
                <div class="stat-card qatar">
                    <div class="stat-icon">
                        <i class="fas fa-flag"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="qatarRelevant">0</div>
                        <div class="stat-label">ذات صلة بقطر</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-map"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="countriesCount">15</div>
                        <div class="stat-label">دولة مراقبة</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="agenciesCount">8</div>
                        <div class="stat-label">جهة رقابية</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Controls Section -->
    <section class="controls-section">
        <div class="container">
            <div class="controls-grid">
                <!-- Search -->
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="البحث في الاستدعاءات الغذائية..." class="search-input">
                    </div>
                </div>
                
                <!-- Filters -->
                <div class="filters-container">
                    <button id="filter-all" class="filter-btn active btn-sound">الكل</button>
                    <button id="filter-urgent" class="filter-btn btn-sound">عاجل</button>
                    <button id="filter-international" class="filter-btn btn-sound">عالمي</button>
                    <button id="filter-national" class="filter-btn btn-sound">وطني</button>
                    <button id="filter-local" class="filter-btn btn-sound">محلي</button>
                </div>
                
                <!-- Actions -->
                <div class="actions-container">
                    <button id="refreshData" class="btn btn-secondary btn-sound">
                        <i class="fas fa-sync-alt"></i>
                        <span>تحديث البيانات</span>
                    </button>
                    <button id="testNotification" class="btn btn-secondary btn-sound">
                        <i class="fas fa-bell"></i>
                        <span>إشعار تجريبي</span>
                    </button>
                    <button id="exportData" class="btn btn-secondary btn-sound">
                        <i class="fas fa-download"></i>
                        <span>تصدير البيانات</span>
                    </button>
                    <button id="whatsappShare" class="btn btn-secondary btn-sound">
                        <i class="fab fa-whatsapp"></i>
                        <span>واتساب</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Loading Indicator -->
            <div id="loader" class="loader">
                <div class="loader-spinner"></div>
                <p>جاري تحميل البيانات من المصادر العالمية...</p>
            </div>
            
            <!-- Recalls Container -->
            <div id="recallsContainer" class="recalls-container" style="display: none;">
                <!-- البيانات ستظهر هنا -->
            </div>
            
            <!-- Pagination -->
            <div class="pagination-container" style="display: none;">
                <button id="prevPage" class="btn btn-outline btn-sound">
                    <i class="fas fa-chevron-right"></i>
                    <span>السابق</span>
                </button>
                
                <span id="pageInfo" class="page-info">1 من 1</span>
                
                <button id="nextPage" class="btn btn-outline btn-sound">
                    <span>التالي</span>
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>المصادر المراقبة</h3>
                    <ul class="sources-list">
                        <li><i class="fas fa-check-circle"></i> FDA (الولايات المتحدة الأمريكية)</li>
                        <li><i class="fas fa-check-circle"></i> Health Canada (كندا)</li>
                        <li><i class="fas fa-check-circle"></i> SFDA (المملكة العربية السعودية)</li>
                        <li><i class="fas fa-check-circle"></i> FSANZ (أستراليا ونيوزيلندا)</li>
                        <li><i class="fas fa-check-circle"></i> RASFF (الاتحاد الأوروبي)</li>
                        <li><i class="fas fa-check-circle"></i> EFSA (هيئة سلامة الأغذية الأوروبية)</li>
                        <li><i class="fas fa-check-circle"></i> FSA (المملكة المتحدة)</li>
                        <li><i class="fas fa-check-circle"></i> CFIA (وكالة فحص الأغذية الكندية)</li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>معلومات النظام</h3>
                    <ul class="info-list">
                        <li><i class="fas fa-clock"></i> تحديث مستمر كل 10 دقائق</li>
                        <li><i class="fas fa-bell"></i> إشعارات فورية عبر الويب</li>
                        <li><i class="fas fa-mobile-alt"></i> إشعارات واتساب</li>
                        <li><i class="fas fa-shield-alt"></i> مراقبة 24/7</li>
                        <li><i class="fas fa-download"></i> تطبيق PWA قابل للتثبيت</li>
                        <li><i class="fas fa-language"></i> دعم العربية والإنجليزية</li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>التصنيف الجغرافي</h3>
                    <ul class="classification-list">
                        <li><i class="fas fa-globe"></i> عالمي - يؤثر على عدة دول</li>
                        <li><i class="fas fa-flag"></i> وطني - يؤثر على دولة كاملة</li>
                        <li><i class="fas fa-map-marker-alt"></i> محلي - مناطق محددة</li>
                        <li><span class="qatar-status confirmed">🇶🇦 مؤكد في قطر</span></li>
                        <li><span class="qatar-status possible">⚠️ محتمل التأثير على قطر</span></li>
                        <li><span class="qatar-status not-indicated">❌ غير محدد</span></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>آخر تحديث</h3>
                    <p id="lastUpdateTime" class="last-update">جاري التحميل...</p>
                    
                    <div class="footer-actions" style="margin-top: 20px;">
                        <button class="btn btn-outline btn-small btn-sound">
                            <i class="fas fa-book"></i> دليل الاستخدام
                        </button>
                        <button class="btn btn-outline btn-small btn-sound">
                            <i class="fas fa-phone"></i> الدعم الفني
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 دولة قطر - وزارة الصحة العامة - نظام الإنذار المبكر للاستدعاءات الغذائية</p>
                <p class="disclaimer">هذا النظام للأغراض الإعلامية والتحذيرية فقط. يرجى الرجوع للمصادر الرسمية للحصول على معلومات مؤكدة ومفصلة.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // تحديث الساعة والتاريخ
        function updateDateTime() {
            const now = new Date();
            
            // تحديث الوقت
            const timeOptions = {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            };
            document.getElementById('currentTime').textContent = now.toLocaleTimeString('ar-SA', timeOptions);
            
            // تحديث التاريخ
            const dateOptions = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('ar-SA', dateOptions);
        }

        // تحديث الساعة كل ثانية
        setInterval(updateDateTime, 1000);
        updateDateTime(); // تحديث فوري

        // أصوات الأزرار
        function playButtonSound() {
            // إنشاء صوت نقرة بسيط
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 800;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        // إضافة أصوات للأزرار
        document.addEventListener('DOMContentLoaded', function() {
            const soundButtons = document.querySelectorAll('.btn-sound');
            soundButtons.forEach(button => {
                button.addEventListener('click', playButtonSound);
            });
        });

        // تحديث آخر وقت تحديث
        function updateLastUpdateTime() {
            const now = new Date();
            const timeString = now.toLocaleString('ar-SA', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('lastUpdateTime').textContent = timeString;
        }

        updateLastUpdateTime();
        setInterval(updateLastUpdateTime, 60000); // تحديث كل دقيقة

        // محاكاة تحميل البيانات
        setTimeout(() => {
            document.getElementById('loader').style.display = 'none';
            document.getElementById('recallsContainer').style.display = 'block';
            document.querySelector('.pagination-container').style.display = 'flex';
            
            // محاكاة بيانات
            document.getElementById('totalRecalls').textContent = '247';
            document.getElementById('urgentRecalls').textContent = '12';
            document.getElementById('internationalRecalls').textContent = '89';
            document.getElementById('qatarRelevant').textContent = '34';
            
            // إضافة بطاقة استدعاء تجريبية
            const recallsContainer = document.getElementById('recallsContainer');
            recallsContainer.innerHTML = `
                <div class="recall-card fade-in-up">
                    <div class="recall-header">
                        <div>
                            <h3 class="recall-title">استدعاء منتجات الألبان الملوثة بالسالمونيلا</h3>
                            <div class="recall-meta">
                                <div class="meta-item">
                                    <i class="fas fa-calendar"></i>
                                    <span>4 أكتوبر 2024</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-building"></i>
                                    <span>FDA - الولايات المتحدة</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-industry"></i>
                                    <span>شركة ABC للألبان</span>
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; gap: 10px; flex-direction: column;">
                            <span class="status-badge status-urgent">عاجل</span>
                            <span class="qatar-status possible">محتمل في قطر</span>
                        </div>
                    </div>
                    
                    <div class="recall-content">
                        <p class="recall-description">
                            تم اكتشاف تلوث بكتيريا السالمونيلا في منتجات الحليب والجبن المصنعة في الفترة من 15 سبتمبر إلى 30 سبتمبر 2024. 
                            المنتجات موزعة في 15 ولاية أمريكية وقد تم تصديرها إلى دول الخليج العربي.
                        </p>
                    </div>
                    
                    <div class="recall-actions">
                        <button class="btn btn-primary btn-small btn-sound">
                            <i class="fas fa-external-link-alt"></i>
                            <span>المصدر الأصلي</span>
                        </button>
                        <button class="btn btn-secondary btn-small btn-sound">
                            <i class="fab fa-whatsapp"></i>
                            <span>مشاركة واتساب</span>
                        </button>
                        <button class="btn btn-secondary btn-small btn-sound">
                            <i class="fas fa-download"></i>
                            <span>تحميل التفاصيل</span>
                        </button>
                    </div>
                </div>
            `;
        }, 2000);

        // وظائف الأزرار
        document.getElementById('enableNotifications')?.addEventListener('click', function() {
            if ('Notification' in window) {
                Notification.requestPermission().then(permission => {
                    if (permission === 'granted') {
                        showNotification('تم تفعيل الإشعارات بنجاح!', 'success');
                        new Notification('نظام الإنذار المبكر', {
                            body: 'تم تفعيل الإشعارات بنجاح. ستصلك تنبيهات فورية عند اكتشاف استدعاءات جديدة.',
                            icon: '/assets/favicon-32x32.png'
                        });
                    }
                });
            }
        });

        document.getElementById('testNotification')?.addEventListener('click', function() {
            showNotification('هذا إشعار تجريبي من نظام الإنذار المبكر', 'warning');
        });

        document.getElementById('refreshData')?.addEventListener('click', function() {
            showNotification('جاري تحديث البيانات...', 'info');
            // محاكاة تحديث البيانات
            setTimeout(() => {
                showNotification('تم تحديث البيانات بنجاح!', 'success');
                updateLastUpdateTime();
            }, 1500);
        });

        // وظيفة عرض الإشعارات
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }

        // PWA Installation
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            const installButton = document.createElement('button');
            installButton.className = 'btn btn-primary btn-sound';
            installButton.innerHTML = '<i class="fas fa-download"></i> تثبيت التطبيق';
            installButton.style.position = 'fixed';
            installButton.style.bottom = '20px';
            installButton.style.left = '20px';
            installButton.style.zIndex = '1000';
            
            installButton.onclick = async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    console.log(`PWA install outcome: ${outcome}`);
                    deferredPrompt = null;
                    installButton.remove();
                }
            };
            
            document.body.appendChild(installButton);
        });
    </script>
    
    <script src="/firebase-config.js"></script>
    <script src="/app.js"></script>
</body>
</html>
